{"version":3,"sources":["webpack:///./src/common/inputs/formik/TextField.tsx","webpack:///./src/common/inputs/formik/SelectField.tsx","webpack:///./node_modules/react-infinite-scroller/index.js","webpack:///./node_modules/react-infinite-scroller/dist/InfiniteScroll.js","webpack:///./node_modules/@material-ui/icons/esm/KeyboardArrowDown.js","webpack:///./src/common/inputs/formik/DirectionButton.tsx","webpack:///./src/plugins/history/types.ts","webpack:///./src/plugins/history/FilterNav.tsx","webpack:///./node_modules/@material-ui/core/esm/ListSubheader/ListSubheader.js","webpack:///./src/common/LoadingSpinner.tsx","webpack:///./src/utils/array.js","webpack:///./src/plugins/history/utils.ts","webpack:///./src/plugins/history/hooks.ts","webpack:///./src/plugins/history/HistoryList.tsx","webpack:///./src/plugins/history/History.tsx"],"names":["TextField","name","props","useField","field","touched","error","helperText","SelectField","options","SelectProps","theme","useTheme","sp","native","useMediaQuery","breakpoints","down","select","map","option","key","value","label","module","exports","Object","defineProperty","_createClass","defineProperties","target","i","length","descriptor","enumerable","configurable","writable","Constructor","protoProps","staticProps","prototype","_react","_react2","_interopRequireDefault","_propTypes2","obj","__esModule","default","InfiniteScroll","_Component","instance","TypeError","_classCallCheck","this","_this","self","call","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","scrollListener","bind","eventListenerOptions","mousewheelListener","subClass","superClass","create","constructor","setPrototypeOf","_inherits","pageLoaded","pageStart","attachScrollListener","isReverse","loadMore","parentElement","getParentElement","scrollComponent","scrollTop","scrollHeight","beforeScrollHeight","beforeScrollTop","detachScrollListener","detachMousewheelListener","passive","testOptions","document","addEventListener","removeEventListener","e","useCapture","isPassiveSupported","loader","defaultLoader","scrollEl","window","useWindow","parentNode","el","scrollParent","getScrollParent","hasMore","initialLoad","deltaY","preventDefault","offset","doc","documentElement","body","undefined","pageYOffset","calculateOffset","clientHeight","Number","threshold","offsetParent","calculateTopPosition","offsetHeight","innerHeight","offsetTop","_this2","renderProps","filterProps","children","element","ref","keys","indexOf","hasOwnProperty","_objectWithoutProperties","node","childrenArray","unshift","push","createElement","Component","propTypes","isRequired","bool","func","number","defaultProps","createSvgIcon","d","GroupByFields","SortByFields","iconBase","css","transitions","rotate","DirectionButton","forwardRef","onClick","useFormikContext","values","setFieldValue","setFieldTouched","iconCss","useCallback","order","Direction","Desc","handleClick","toggleDirection","IconButton","KeyboardArrowDown","fieldWrapper","textField","selectField","groupByFields","Task","Time","sortByFields","Details","Filename","Id","Title","Url","FilterNav","submitForm","debouncedValues","useDebounce","tasks","useContainer","TaskContainer","useEffect","Toolbar","autoFocus","id","Tooltip","title","color","aria-label","classes","className","_props$color","_props$component","component","_props$disableGutters","disableGutters","_props$disableSticky","disableSticky","_props$inset","inset","other","root","concat","capitalize","sticky","gutters","withStyles","boxSizing","lineHeight","listStyle","palette","text","secondary","fontFamily","typography","fontWeight","fontWeightMedium","fontSize","pxToRem","colorPrimary","primary","main","colorInherit","paddingLeft","paddingRight","position","top","zIndex","backgroundColor","spinner","wrapper","LoadingSpinner","loading","CircularProgress","groupBy","array","transform","f","reduce","curr","modKey","historyReducer","state","items","headers","reset","total","parseInt","get","useHistoryPlugin","useReducer","dispatch","useFlexgetAPI","stringify","requestState","request","resp","ok","data","page","fn","subheader","background","paper","HistoryList","scrollRef","history","useMemo","grouping","split","getGroupedHistory","entries","header","histories","List","time","task","ListItem","ListItemText","Date","toString","History","useInjectPageTitle","scroll","useRef","useMergeState","sort","setOptions","current","findDOMNode","scrollIntoView","initialValues","onSubmit"],"mappings":"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","file":"11.59c4d8287d868be169c6.js","sourcesContent":["import React from 'react';\nimport BaseTextField from '@material-ui/core/TextField';\nimport { useField } from 'formik';\nconst TextField = ({ name, ...props }) => {\n    const [field, { touched, error }] = useField(name);\n    return <BaseTextField error={touched && !!error} helperText={error} {...field} {...props}/>;\n};\nexport default TextField;\n","import React from 'react';\nimport { MenuItem, useMediaQuery, useTheme } from '@material-ui/core';\nimport TextField from './TextField';\nconst SelectField = ({ options, SelectProps = {}, ...props }) => {\n    const theme = useTheme();\n    const native = useMediaQuery(theme.breakpoints.down('sm'));\n    const sp = {\n        native,\n        ...SelectProps,\n    };\n    return (<TextField {...props} select SelectProps={sp}>\n      {options.map(option => sp.native ? (<option key={option.value} value={option.value}>\n            {option.label}\n          </option>) : (<MenuItem key={option.value} value={option.value}>\n            {option.label}\n          </MenuItem>))}\n    </TextField>);\n};\nexport default SelectField;\n","module.exports = require('./dist/InfiniteScroll')\n","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar InfiniteScroll = function (_Component) {\n  _inherits(InfiniteScroll, _Component);\n\n  function InfiniteScroll(props) {\n    _classCallCheck(this, InfiniteScroll);\n\n    var _this = _possibleConstructorReturn(this, (InfiniteScroll.__proto__ || Object.getPrototypeOf(InfiniteScroll)).call(this, props));\n\n    _this.scrollListener = _this.scrollListener.bind(_this);\n    _this.eventListenerOptions = _this.eventListenerOptions.bind(_this);\n    _this.mousewheelListener = _this.mousewheelListener.bind(_this);\n    return _this;\n  }\n\n  _createClass(InfiniteScroll, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.pageLoaded = this.props.pageStart;\n      this.options = this.eventListenerOptions();\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate() {\n      if (this.props.isReverse && this.loadMore) {\n        var parentElement = this.getParentElement(this.scrollComponent);\n        parentElement.scrollTop = parentElement.scrollHeight - this.beforeScrollHeight + this.beforeScrollTop;\n        this.loadMore = false;\n      }\n      this.attachScrollListener();\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.detachScrollListener();\n      this.detachMousewheelListener();\n    }\n  }, {\n    key: 'isPassiveSupported',\n    value: function isPassiveSupported() {\n      var passive = false;\n\n      var testOptions = {\n        get passive() {\n          passive = true;\n        }\n      };\n\n      try {\n        document.addEventListener('test', null, testOptions);\n        document.removeEventListener('test', null, testOptions);\n      } catch (e) {\n        // ignore\n      }\n      return passive;\n    }\n  }, {\n    key: 'eventListenerOptions',\n    value: function eventListenerOptions() {\n      var options = this.props.useCapture;\n\n      if (this.isPassiveSupported()) {\n        options = {\n          useCapture: this.props.useCapture,\n          passive: true\n        };\n      }\n      return options;\n    }\n\n    // Set a defaut loader for all your `InfiniteScroll` components\n\n  }, {\n    key: 'setDefaultLoader',\n    value: function setDefaultLoader(loader) {\n      this.defaultLoader = loader;\n    }\n  }, {\n    key: 'detachMousewheelListener',\n    value: function detachMousewheelListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.scrollComponent.parentNode;\n      }\n\n      scrollEl.removeEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'detachScrollListener',\n    value: function detachScrollListener() {\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = this.getParentElement(this.scrollComponent);\n      }\n\n      scrollEl.removeEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.removeEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n    }\n  }, {\n    key: 'getParentElement',\n    value: function getParentElement(el) {\n      var scrollParent = this.props.getScrollParent && this.props.getScrollParent();\n      if (scrollParent != null) {\n        return scrollParent;\n      }\n      return el && el.parentNode;\n    }\n  }, {\n    key: 'filterProps',\n    value: function filterProps(props) {\n      return props;\n    }\n  }, {\n    key: 'attachScrollListener',\n    value: function attachScrollListener() {\n      var parentElement = this.getParentElement(this.scrollComponent);\n\n      if (!this.props.hasMore || !parentElement) {\n        return;\n      }\n\n      var scrollEl = window;\n      if (this.props.useWindow === false) {\n        scrollEl = parentElement;\n      }\n\n      scrollEl.addEventListener('mousewheel', this.mousewheelListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('scroll', this.scrollListener, this.options ? this.options : this.props.useCapture);\n      scrollEl.addEventListener('resize', this.scrollListener, this.options ? this.options : this.props.useCapture);\n\n      if (this.props.initialLoad) {\n        this.scrollListener();\n      }\n    }\n  }, {\n    key: 'mousewheelListener',\n    value: function mousewheelListener(e) {\n      // Prevents Chrome hangups\n      // See: https://stackoverflow.com/questions/47524205/random-high-content-download-time-in-chrome/47684257#47684257\n      if (e.deltaY === 1 && !this.isPassiveSupported()) {\n        e.preventDefault();\n      }\n    }\n  }, {\n    key: 'scrollListener',\n    value: function scrollListener() {\n      var el = this.scrollComponent;\n      var scrollEl = window;\n      var parentNode = this.getParentElement(el);\n\n      var offset = void 0;\n      if (this.props.useWindow) {\n        var doc = document.documentElement || document.body.parentNode || document.body;\n        var scrollTop = scrollEl.pageYOffset !== undefined ? scrollEl.pageYOffset : doc.scrollTop;\n        if (this.props.isReverse) {\n          offset = scrollTop;\n        } else {\n          offset = this.calculateOffset(el, scrollTop);\n        }\n      } else if (this.props.isReverse) {\n        offset = parentNode.scrollTop;\n      } else {\n        offset = el.scrollHeight - parentNode.scrollTop - parentNode.clientHeight;\n      }\n\n      // Here we make sure the element is visible as well as checking the offset\n      if (offset < Number(this.props.threshold) && el && el.offsetParent !== null) {\n        this.detachScrollListener();\n        this.beforeScrollHeight = parentNode.scrollHeight;\n        this.beforeScrollTop = parentNode.scrollTop;\n        // Call loadMore after detachScrollListener to allow for non-async loadMore functions\n        if (typeof this.props.loadMore === 'function') {\n          this.props.loadMore(this.pageLoaded += 1);\n          this.loadMore = true;\n        }\n      }\n    }\n  }, {\n    key: 'calculateOffset',\n    value: function calculateOffset(el, scrollTop) {\n      if (!el) {\n        return 0;\n      }\n\n      return this.calculateTopPosition(el) + (el.offsetHeight - scrollTop - window.innerHeight);\n    }\n  }, {\n    key: 'calculateTopPosition',\n    value: function calculateTopPosition(el) {\n      if (!el) {\n        return 0;\n      }\n      return el.offsetTop + this.calculateTopPosition(el.offsetParent);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var renderProps = this.filterProps(this.props);\n\n      var children = renderProps.children,\n          element = renderProps.element,\n          hasMore = renderProps.hasMore,\n          initialLoad = renderProps.initialLoad,\n          isReverse = renderProps.isReverse,\n          loader = renderProps.loader,\n          loadMore = renderProps.loadMore,\n          pageStart = renderProps.pageStart,\n          ref = renderProps.ref,\n          threshold = renderProps.threshold,\n          useCapture = renderProps.useCapture,\n          useWindow = renderProps.useWindow,\n          getScrollParent = renderProps.getScrollParent,\n          props = _objectWithoutProperties(renderProps, ['children', 'element', 'hasMore', 'initialLoad', 'isReverse', 'loader', 'loadMore', 'pageStart', 'ref', 'threshold', 'useCapture', 'useWindow', 'getScrollParent']);\n\n      props.ref = function (node) {\n        _this2.scrollComponent = node;\n        if (ref) {\n          ref(node);\n        }\n      };\n\n      var childrenArray = [children];\n      if (hasMore) {\n        if (loader) {\n          isReverse ? childrenArray.unshift(loader) : childrenArray.push(loader);\n        } else if (this.defaultLoader) {\n          isReverse ? childrenArray.unshift(this.defaultLoader) : childrenArray.push(this.defaultLoader);\n        }\n      }\n      return _react2.default.createElement(element, props, childrenArray);\n    }\n  }]);\n\n  return InfiniteScroll;\n}(_react.Component);\n\nInfiniteScroll.propTypes = {\n  children: _propTypes2.default.node.isRequired,\n  element: _propTypes2.default.node,\n  hasMore: _propTypes2.default.bool,\n  initialLoad: _propTypes2.default.bool,\n  isReverse: _propTypes2.default.bool,\n  loader: _propTypes2.default.node,\n  loadMore: _propTypes2.default.func.isRequired,\n  pageStart: _propTypes2.default.number,\n  ref: _propTypes2.default.func,\n  getScrollParent: _propTypes2.default.func,\n  threshold: _propTypes2.default.number,\n  useCapture: _propTypes2.default.bool,\n  useWindow: _propTypes2.default.bool\n};\nInfiniteScroll.defaultProps = {\n  element: 'div',\n  hasMore: false,\n  initialLoad: true,\n  pageStart: 0,\n  ref: null,\n  threshold: 250,\n  useWindow: true,\n  isReverse: false,\n  useCapture: false,\n  loader: null,\n  getScrollParent: null\n};\nexports.default = InfiniteScroll;\nmodule.exports = exports['default'];\n","import React from 'react';\nimport createSvgIcon from './utils/createSvgIcon';\nexport default createSvgIcon(React.createElement(\"path\", {\n  d: \"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n}), 'KeyboardArrowDown');","import React, { useCallback, forwardRef } from 'react';\nimport { useFormikContext } from 'formik';\nimport { css } from '@emotion/core';\nimport { KeyboardArrowDown } from '@material-ui/icons';\nimport { IconButton } from '@material-ui/core';\nimport { Direction, toggleDirection } from 'utils/query';\nconst iconBase = (theme) => css `\n  transition: ${theme.transitions.create(['transform'])};\n`;\nconst rotate = css `\n  transform: rotate(180deg);\n`;\nconst DirectionButton = forwardRef(({ name, onClick = () => { }, ...props }, ref) => {\n    const { values, setFieldValue, setFieldTouched } = useFormikContext();\n    const iconCss = useCallback((theme) => [iconBase(theme), values.order === Direction.Desc && rotate], [values.order]);\n    const handleClick = useCallback((e) => {\n        setFieldTouched(name, true);\n        setFieldValue(name, toggleDirection(values[name]));\n        onClick(e);\n    }, [name, onClick, setFieldTouched, setFieldValue, values]);\n    return (<IconButton {...props} onClick={handleClick} name={name} ref={ref}>\n        <KeyboardArrowDown css={iconCss}/>\n      </IconButton>);\n});\nexport default DirectionButton;\n","export var GroupByFields;\n(function (GroupByFields) {\n    GroupByFields[\"Task\"] = \"task\";\n    GroupByFields[\"Time\"] = \"time\";\n})(GroupByFields || (GroupByFields = {}));\nexport var SortByFields;\n(function (SortByFields) {\n    SortByFields[\"Task\"] = \"task\";\n    SortByFields[\"Time\"] = \"time\";\n    SortByFields[\"Url\"] = \"url\";\n    SortByFields[\"Details\"] = \"details\";\n    SortByFields[\"Id\"] = \"id\";\n    SortByFields[\"Filename\"] = \"filename\";\n    SortByFields[\"Title\"] = \"title\";\n})(SortByFields || (SortByFields = {}));\n","import React, { useEffect } from 'react';\nimport { Toolbar, Tooltip } from '@material-ui/core';\nimport { css } from '@emotion/core';\nimport SelectField from 'common/inputs/formik/SelectField';\nimport { Spacer } from 'common/styles';\nimport { useFormikContext } from 'formik';\nimport { useDebounce } from 'utils/hooks';\nimport DirectionButton from 'common/inputs/formik/DirectionButton';\nimport { TaskContainer } from 'core/tasks/hooks';\nimport { useContainer } from 'unstated-next';\nimport { GroupByFields, SortByFields } from './types';\nconst fieldWrapper = css `\n  padding: 0.5rem 2rem 0.5rem;\n`;\nconst textField = css `\n  width: 7.5rem;\n`;\nconst selectField = css `\n  min-width: 20rem;\n`;\nconst groupByFields = [\n    {\n        value: GroupByFields.Task,\n        label: 'Task',\n    },\n    {\n        value: GroupByFields.Time,\n        label: 'Time',\n    },\n];\nconst sortByFields = [\n    {\n        value: SortByFields.Details,\n        label: 'Details',\n    },\n    {\n        value: SortByFields.Filename,\n        label: 'Filename',\n    },\n    {\n        value: SortByFields.Id,\n        label: 'ID',\n    },\n    {\n        value: SortByFields.Task,\n        label: 'Task',\n    },\n    {\n        value: SortByFields.Time,\n        label: 'Time',\n    },\n    {\n        value: SortByFields.Title,\n        label: 'Title',\n    },\n    {\n        value: SortByFields.Url,\n        label: 'URL',\n    },\n];\nconst FilterNav = () => {\n    const { values, submitForm } = useFormikContext();\n    const debouncedValues = useDebounce(values);\n    const { tasks } = useContainer(TaskContainer);\n    useEffect(() => {\n        submitForm();\n    }, [...Object.values(debouncedValues), submitForm]); // eslint-disable-line react-hooks/exhaustive-deps\n    return (<Toolbar>\n      <div css={fieldWrapper}>\n        <SelectField css={selectField} autoFocus id=\"task\" label=\"Task Name\" name=\"task\" options={tasks.map(({ name }) => ({ value: name, label: name }))}/>\n      </div>\n      <Spacer />\n      <div css={fieldWrapper}>\n        <SelectField id=\"sort\" name=\"sort\" label=\"Sort By\" options={sortByFields} css={textField}/>\n      </div>\n      <div>\n        <SelectField id=\"grouping\" label=\"Group By\" name=\"grouping\" options={groupByFields} css={textField}/>\n      </div>\n      <Tooltip title=\"Toggle Direction\">\n        <DirectionButton color=\"inherit\" name=\"order\" id=\"order\" aria-label=\"Toggle Direction\"/>\n      </Tooltip>\n    </Toolbar>);\n};\nexport default FilterNav;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport withStyles from '../styles/withStyles';\nimport capitalize from '../utils/capitalize';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: {\n      boxSizing: 'border-box',\n      lineHeight: '48px',\n      listStyle: 'none',\n      color: theme.palette.text.secondary,\n      fontFamily: theme.typography.fontFamily,\n      fontWeight: theme.typography.fontWeightMedium,\n      fontSize: theme.typography.pxToRem(14)\n    },\n\n    /* Styles applied to the root element if `color=\"primary\"`. */\n    colorPrimary: {\n      color: theme.palette.primary.main\n    },\n\n    /* Styles applied to the root element if `color=\"inherit\"`. */\n    colorInherit: {\n      color: 'inherit'\n    },\n\n    /* Styles applied to the inner `component` element if `disableGutters={false}`. */\n    gutters: {\n      paddingLeft: 16,\n      paddingRight: 16\n    },\n\n    /* Styles applied to the root element if `inset={true}`. */\n    inset: {\n      paddingLeft: 72\n    },\n\n    /* Styles applied to the root element if `disableSticky={false}`. */\n    sticky: {\n      position: 'sticky',\n      top: 0,\n      zIndex: 1,\n      backgroundColor: 'inherit'\n    }\n  };\n};\nvar ListSubheader = React.forwardRef(function ListSubheader(props, ref) {\n  var classes = props.classes,\n      className = props.className,\n      _props$color = props.color,\n      color = _props$color === void 0 ? 'default' : _props$color,\n      _props$component = props.component,\n      Component = _props$component === void 0 ? 'li' : _props$component,\n      _props$disableGutters = props.disableGutters,\n      disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n      _props$disableSticky = props.disableSticky,\n      disableSticky = _props$disableSticky === void 0 ? false : _props$disableSticky,\n      _props$inset = props.inset,\n      inset = _props$inset === void 0 ? false : _props$inset,\n      other = _objectWithoutProperties(props, [\"classes\", \"className\", \"color\", \"component\", \"disableGutters\", \"disableSticky\", \"inset\"]);\n\n  return React.createElement(Component, _extends({\n    className: clsx(classes.root, className, color !== 'default' && classes[\"color\".concat(capitalize(color))], inset && classes.inset, !disableSticky && classes.sticky, !disableGutters && classes.gutters),\n    ref: ref\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? ListSubheader.propTypes = {\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   */\n  color: PropTypes.oneOf(['default', 'primary', 'inherit']),\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a DOM element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * If `true`, the List Subheader will not have gutters.\n   */\n  disableGutters: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will not stick to the top during scroll.\n   */\n  disableSticky: PropTypes.bool,\n\n  /**\n   * If `true`, the List Subheader will be indented.\n   */\n  inset: PropTypes.bool\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiListSubheader'\n})(ListSubheader);","import React from 'react';\nimport { CircularProgress } from '@material-ui/core';\nimport { css } from '@emotion/core';\nconst spinner = css `\n  margin: 0 auto;\n`;\nconst wrapper = css `\n  display: flex;\n  align-items: center;\n`;\nconst LoadingSpinner = ({ loading = false }) => {\n    if (loading) {\n        return (<div css={wrapper}>\n        <CircularProgress css={spinner}/>\n      </div>);\n    }\n    return null;\n};\nexport default LoadingSpinner;\n","export function groupBy(array, key, transform = f => f) {\n    return array.reduce((obj, curr) => {\n        const modKey = transform(curr[key]);\n        return {\n            ...obj,\n            [modKey]: obj[modKey] ? [...obj[modKey], curr] : [curr],\n        };\n    }, {});\n}\n","import { groupBy } from 'utils/array';\nimport { GroupByFields } from './types';\nexport const getGroupedHistory = (items, grouping) => groupBy(items, grouping, grouping === GroupByFields.Time ? (i) => i.split('T')[0] : undefined);\n","import { useReducer, useEffect } from 'react';\nimport { stringify } from 'qs';\nimport { useFlexgetAPI } from 'core/api';\nconst historyReducer = (state, { items, headers, reset }) => {\n    const total = parseInt(headers.get('total-count') ?? '0', 10);\n    if (reset) {\n        return {\n            items,\n            total,\n        };\n    }\n    return {\n        items: [...state.items, ...items],\n        total,\n    };\n};\nexport const useHistoryPlugin = (options) => {\n    const [state, dispatch] = useReducer(historyReducer, { items: [], total: 0 });\n    const [requestState, request] = useFlexgetAPI(`/history?${stringify(options)}`);\n    useEffect(() => {\n        const fn = async () => {\n            const resp = await request();\n            if (resp.ok) {\n                dispatch({ items: resp.data, headers: resp.headers, reset: options.page === 1 });\n            }\n        };\n        fn();\n    }, [options.page, request]);\n    return { ...state, ...requestState };\n};\n","import React, { forwardRef, useMemo } from 'react';\nimport { ListItemText, ListItem, ListSubheader, List } from '@material-ui/core';\nimport InfiniteScroll from 'react-infinite-scroller';\nimport { GroupByFields } from 'plugins/history/types';\nimport LoadingSpinner from 'common/LoadingSpinner';\nimport { css } from '@emotion/core';\nimport { getGroupedHistory } from 'plugins/history/utils';\nimport { useHistoryPlugin } from './hooks';\nconst subheader = (theme) => css `\n  background-color: ${theme.palette.background.paper};\n`;\nconst wrapper = css `\n  overflow-y: scroll;\n  flex: 1;\n`;\nconst HistoryList = forwardRef(({ options, loadMore }, scrollRef) => {\n    const { items, total, loading } = useHistoryPlugin(options);\n    const history = useMemo(() => getGroupedHistory(items, options.grouping), [\n        items,\n        options.grouping,\n    ]);\n    return (<div css={wrapper}>\n      <InfiniteScroll hasMore={loading ? false : items.length < total} loadMore={loadMore} loader={<LoadingSpinner loading key={0}/>} ref={scrollRef} useWindow={false}>\n        {Object.entries(history).map(([header, histories]) => (<List key={header} subheader={<ListSubheader color=\"primary\" css={subheader}>\n                {header}\n              </ListSubheader>}>\n            {histories.map(({ id, title, time, task }) => (<ListItem key={id}>\n                <ListItemText primary={title} secondary={options.grouping === GroupByFields.Time ? task : new Date(time).toString()}/>\n              </ListItem>))}\n          </List>))}\n      </InfiniteScroll>\n    </div>);\n});\nexport default HistoryList;\n","import React, { useRef, useEffect, useCallback } from 'react';\nimport { findDOMNode } from 'react-dom';\nimport { hot } from 'react-hot-loader/root';\nimport { useInjectPageTitle } from 'core/layout/AppBar/hooks';\nimport { NoPaddingWrapper } from 'common/styles';\nimport { useMergeState } from 'utils/hooks';\nimport { Direction } from 'utils/query';\nimport { Formik } from 'formik';\nimport FilterNav from './FilterNav';\nimport HistoryList from './HistoryList';\nimport { GroupByFields, SortByFields } from './types';\nconst History = () => {\n    useInjectPageTitle('History');\n    const scroll = useRef(null);\n    const [options, setOptions] = useMergeState({\n        page: 1,\n        grouping: GroupByFields.Time,\n        sort: SortByFields.Time,\n        order: Direction.Desc,\n        task: '',\n    });\n    useEffect(() => {\n        if (scroll.current && options.page === 1) {\n            const node = findDOMNode(scroll.current); // eslint-disable-line react/no-find-dom-node\n            if (node && 'scrollIntoView' in node) {\n                node.scrollIntoView();\n            }\n            scroll.current.pageLoaded = 1;\n        }\n    }, [options.page]);\n    const loadMore = useCallback((page) => setOptions({ page }), [setOptions]);\n    return (<NoPaddingWrapper>\n      <Formik initialValues={options} onSubmit={values => setOptions({\n        ...values,\n        page: 1,\n    })}>\n        <FilterNav />\n      </Formik>\n      <HistoryList options={options} ref={scroll} loadMore={loadMore}/>\n    </NoPaddingWrapper>);\n};\nexport default hot(History);\n"],"sourceRoot":""}
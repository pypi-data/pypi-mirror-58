{"version":3,"sources":["webpack:///./src/plugins/log/Header/styles.js","webpack:///./src/plugins/log/Header/Header.jsx","webpack:///./src/plugins/log/Header/index.js","webpack:///./src/plugins/log/state/shapes.js","webpack:///./src/plugins/log/LogTable/styles.js","webpack:///./src/plugins/log/LogTable/LogTable.jsx","webpack:///./src/plugins/log/LogTable/index.js","webpack:///./src/plugins/log/Log/styles.js","webpack:///./src/plugins/log/Log/index.jsx"],"names":["grey","css","theme","palette","Wrapper","breakpoints","up","GreyIcon","FontAwesomeIcon","GreyClickableIcon","GreyType","Typography","Spacer","TextFieldWrapper","FilterField","TextField","MenuIcon","ENTER_KEY","Header","arguments","state","open","lines","query","reload","props","connected","start","stop","clearLogs","handleLines","event","setState","target","value","handleQuery","handleKeyPress","which","handleRequestClose","anchorEl","undefined","handleMenuClick","currentTarget","this","variant","icon","id","label","onChange","inputProps","onKeyPress","helperText","onClick","Menu","onClose","MenuItem","type","Component","connect","log","dispatch","payload","actions","request","disconnect","clear","PropTypes","shape","timestamp","string","message","task","logLevel","plugin","Table","RVTable","LogTable","messages","height","width","rowCount","length","rowHeight","headerHeight","rowGetter","index","rowClassName","log_level","toLowerCase","dataKey","flexGrow","TableWrapper","LogPage","useInjectPageTitle","elevation"],"mappings":"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","file":"14.974d49c4b32357fce77d.js","sourcesContent":["import styled from '@emotion/styled';\nimport { css } from '@emotion/core';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport theme from 'core/theme';\nimport { Typography, TextField } from '@material-ui/core';\nconst grey = css `\n  color: ${theme.palette.grey[600]};\n`;\nexport const Wrapper = styled.div `\n  display: block;\n  ${theme.breakpoints.up('sm')} {\n    display: flex;\n    align-items: baseline;\n  }\n`;\nexport const GreyIcon = styled(FontAwesomeIcon) `\n  ${grey};\n`;\nexport const GreyClickableIcon = styled(GreyIcon) `\n  cursor: pointer;\n`;\nexport const GreyType = styled(Typography) `\n  ${grey};\n`;\nexport const Spacer = styled.div `\n  flex: 1;\n`;\nexport const TextFieldWrapper = styled.div `\n  display: flex;\n  align-items: baseline;\n`;\nexport const FilterField = styled(TextField) `\n  margin-left: 1rem;\n  margin-right: 1rem;\n`;\nexport const MenuIcon = styled(FontAwesomeIcon) `\n  margin-right: 3rem;\n`;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { Wrapper, GreyIcon, GreyClickableIcon, GreyType, Spacer, TextFieldWrapper, FilterField, MenuIcon, } from './styles';\nconst ENTER_KEY = 13;\nclass Header extends Component {\n    constructor() {\n        super(...arguments);\n        this.state = {\n            open: false,\n            lines: '200',\n            query: '',\n        };\n        this.reload = () => {\n            const { connected, start, stop } = this.props;\n            const { lines, query } = this.state;\n            if (connected) {\n                stop();\n            }\n            start({ lines, query });\n        };\n        this.clearLogs = () => this.props.clearLogs();\n        this.handleLines = event => this.setState({ lines: event.target.value });\n        this.handleQuery = event => this.setState({ query: event.target.value });\n        this.handleKeyPress = event => event.which === ENTER_KEY && this.reload();\n        this.handleRequestClose = () => this.setState({\n            open: false,\n            anchorEl: undefined,\n        });\n        this.handleMenuClick = event => this.setState({\n            open: true,\n            anchorEl: event.currentTarget,\n        });\n    }\n    componentDidMount() {\n        this.reload();\n    }\n    componentWillUnmount() {\n        const { stop } = this.props;\n        stop();\n    }\n    render() {\n        const { connected, stop } = this.props;\n        const { anchorEl, open, query, lines } = this.state;\n        const helperText = 'Supports operators and, or, (), and \"str\"';\n        return (<Wrapper>\n        <div>\n          <Typography variant=\"h6\">Server Log</Typography>\n          <GreyType variant=\"subtitle1\">{connected ? 'Streaming' : 'Disconnected'}</GreyType>\n        </div>\n        <Spacer />\n        <TextFieldWrapper>\n          <GreyIcon icon=\"filter\"/>\n          <FilterField id=\"filter\" label=\"Filter\" value={query} onChange={this.handleQuery} inputProps={{\n            onKeyPress: this.handleKeyPress,\n        }} helperText={helperText}/>\n          <GreyClickableIcon onClick={this.handleMenuClick} icon=\"ellipsis-v\"/>\n        </TextFieldWrapper>\n        <Menu id=\"log-menu\" anchorEl={anchorEl} open={open} onClose={this.handleRequestClose}>\n          <MenuItem>\n            <TextField id=\"lines\" label=\"Max Lines\" value={lines} onChange={this.handleLines} type=\"number\" inputProps={{\n            onKeyPress: this.handleKeyPress,\n        }}/>\n          </MenuItem>\n          <MenuItem onClick={this.clearLogs}>\n            <MenuIcon icon=\"eraser\"/>\n            Clear\n          </MenuItem>\n          <MenuItem onClick={connected ? stop : this.reload}>\n            <MenuIcon icon={connected ? 'stop' : 'play'}/>\n            {connected ? 'Stop' : 'Start'}\n          </MenuItem>\n        </Menu>\n      </Wrapper>);\n    }\n}\nHeader.propTypes = {\n    start: PropTypes.func.isRequired,\n    stop: PropTypes.func.isRequired,\n    connected: PropTypes.bool.isRequired,\n    clearLogs: PropTypes.func.isRequired,\n};\nexport default Header;\n","import { connect } from 'react-redux';\nimport actions from 'plugins/log/state/actions';\nimport Header from './Header';\nexport function mapStateToProps({ log }) {\n    return {\n        connected: log.connected,\n    };\n}\nfunction mapDispatchToProps(dispatch) {\n    return {\n        start: payload => dispatch(actions.connect.request(payload)),\n        stop: () => dispatch(actions.disconnect()),\n        clearLogs: () => dispatch(actions.clear()),\n    };\n}\nexport default connect(mapStateToProps, mapDispatchToProps)(Header);\nexport { Header };\n","import PropTypes from 'prop-types';\nexport const LogShape = PropTypes.shape({\n    timestamp: PropTypes.string,\n    message: PropTypes.string,\n    task: PropTypes.string,\n    logLevel: PropTypes.string,\n    plugin: PropTypes.string,\n});\n","import styled from '@emotion/styled';\nimport { Table as RVTable } from 'react-virtualized';\nexport const Table = styled(RVTable) `\n  font-size: 1rem;\n\n  & .error {\n    background-color: #f2dede;\n  }\n\n  & .critical {\n    background-color: #f2dede;\n  }\n\n  & .warning {\n    background-color: #fcf8e3;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { AutoSizer, Column } from 'react-virtualized';\nimport { LogShape } from 'plugins/log/state/shapes';\nimport 'react-virtualized/styles.css';\nimport { Table } from './styles';\nconst LogTable = ({ messages }) => (<AutoSizer>\n    {({ height, width }) => (<Table rowCount={messages.length} rowHeight={20} headerHeight={50} width={width} height={height} rowGetter={({ index }) => messages[index]} rowClassName={({ index }) => messages[index] && messages[index].log_level.toLowerCase()}>\n        <Column label=\"Time\" dataKey=\"timestamp\" width={100}/>\n        <Column label=\"Level\" dataKey=\"logLevel\" width={100}/>\n        <Column label=\"Plugin\" dataKey=\"plugin\" width={100}/>\n        <Column label=\"Task\" dataKey=\"task\" width={100}/>\n        <Column label=\"Message\" dataKey=\"message\" width={100} flexGrow={1}/>\n      </Table>)}\n  </AutoSizer>);\nLogTable.propTypes = {\n    messages: PropTypes.arrayOf(LogShape).isRequired,\n};\nexport default LogTable;\n","import { connect } from 'react-redux';\nimport LogTable from './LogTable';\nexport function mapStateToProps({ log }) {\n    return {\n        messages: log.messages,\n    };\n}\nexport default connect(mapStateToProps)(LogTable);\nexport { LogTable };\n","import styled from '@emotion/styled';\nexport const TableWrapper = styled.div `\n  width: initial;\n  flex: 1;\n  background-color: #fff;\n`;\n","import React from 'react';\nimport { hot } from 'react-hot-loader/root';\nimport { PaperWrapper } from 'common/styles';\nimport { useInjectPageTitle } from 'core/layout/AppBar/hooks';\nimport Header from '../Header';\nimport LogTable from '../LogTable';\nimport { TableWrapper } from './styles';\nconst LogPage = () => {\n    useInjectPageTitle('Log');\n    return (<PaperWrapper elevation={4}>\n      <Header />\n      <TableWrapper>\n        <LogTable />\n      </TableWrapper>\n    </PaperWrapper>);\n};\nexport default hot(LogPage);\n"],"sourceRoot":""}
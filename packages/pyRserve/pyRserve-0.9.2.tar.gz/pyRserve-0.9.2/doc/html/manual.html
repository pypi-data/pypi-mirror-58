
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>pyRserve manual &#8212; pyRserve 0.9.2 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="This is the MIT license" href="license.html" />
    <link rel="prev" title="Installation" href="installation.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="license.html" title="This is the MIT license"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyRserve 0.9.2 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pyrserve-manual">
<h1>pyRserve manual<a class="headerlink" href="#pyrserve-manual" title="Permalink to this headline">¶</a></h1>
<p>This manual is written in sort of a <cite>walk-through</cite>-style. All examples can be tried out on the Python
command line as you read through it.</p>
<div class="section" id="setting-up-a-connection-to-rserve">
<h2>Setting up a connection to Rserve<a class="headerlink" href="#setting-up-a-connection-to-rserve" title="Permalink to this headline">¶</a></h2>
<p>First of all startup Rserve if it is not yet running:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ R CMD Rserve
</pre></div>
</div>
<p>If you started it on your local machine (i.e. <code class="docutils literal notranslate"><span class="pre">localhost</span></code>) without any extra options Rserve should be listening on
port 6311 (its default). R puts itself into daemon mode, meaning that your shell comes back, and you have no way to
shutdown R via <code class="docutils literal notranslate"><span class="pre">ctrl-C</span></code> (you need to call <code class="docutils literal notranslate"><span class="pre">kill</span></code> with it’s process id). However <code class="docutils literal notranslate"><span class="pre">Rserve</span></code> can be started in
debug mode during development. In this mode it’ll print messages to stdout helping you to see whether your
connection works etc. To do so <cite>Rserve</cite> needs to be started like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ R CMD Rserve.dbg
</pre></div>
</div>
<p>Now we can try to connect to it.
From the python interpreter import the pyRserve package and by omitting any arguments to the <code class="docutils literal notranslate"><span class="pre">connect()</span></code> function
setup the connection to your locally running <code class="docutils literal notranslate"><span class="pre">Rserve</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ python
&gt;&gt;&gt; import pyRserve
&gt;&gt;&gt; conn = pyRserve.connect()
</pre></div>
</div>
<p>To connect to a different location host and port can be specified explicitly:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pyRserve</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="n">host</span><span class="o">=</span><span class="s1">&#39;localhost&#39;</span><span class="p">,</span> <span class="n">port</span><span class="o">=</span><span class="mi">6311</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>On some windows versions it might be necessary to always provide ‘localhost’ for connecting to a locally
running Rserve instance.</p>
</div>
<p>The resulting connection handle can tell you where it is connected to:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span>
<span class="go">&lt;Handle to Rserve on localhost:6311&gt;</span>
</pre></div>
</div>
<p>The connection will be closed automatically when conn is deleted, or by explicitly calling the <code class="docutils literal notranslate"><span class="pre">close()</span></code>-method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">close</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span>
<span class="go">&lt;Closed handle to Rserve on localhost:6311&gt;</span>
</pre></div>
</div>
<p>Running operations on a closed pyRserve connector results in an exception. However a connection can be reopened by
calling the <code class="docutils literal notranslate"><span class="pre">connect()</span></code> method. It reuses the previously given values (or defaults) for <code class="docutils literal notranslate"><span class="pre">host</span></code> and <code class="docutils literal notranslate"><span class="pre">port</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="go">&lt;Handle to Rserve on localhost:6311&gt;</span>
</pre></div>
</div>
<p>To check the status of the connection use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">isClosed</span>
<span class="go">False</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When a remote connection to Rserve should be opened, and pyRserve cannot connect to it, most likely Rserve
only listens to it’s own internal network connection. To force Rserve accepting connections from other machines
create a file called <cite>/etc/Rserv.conf</cite> and add at least the following line:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">remote</span> <span class="pre">enable</span></code></p>
</div></blockquote>
<p>Then restart Rserve.</p>
</div>
<div class="section" id="shutting-down-rserve-remotely">
<h3>Shutting down Rserve remotely<a class="headerlink" href="#shutting-down-rserve-remotely" title="Permalink to this headline">¶</a></h3>
<p>If you need to shutdown Rserve from your client connection the following command can be called:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">shutdown</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="string-evaluation-in-r">
<h2>String evaluation in R<a class="headerlink" href="#string-evaluation-in-r" title="Permalink to this headline">¶</a></h2>
<p>Having established a connection to Rserve you can run the first commands on it. A valid R command can be executed
by making a call to the R name space via the connection’s <cite>eval()</cite> method, providing a string as argument which
contains valid R syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;3 + 5&#39;</span><span class="p">)</span>
<span class="go">8.0</span>
</pre></div>
</div>
<p>In this example the string <code class="docutils literal notranslate"><span class="pre">&quot;3</span> <span class="pre">+</span> <span class="pre">5&quot;</span></code> will be sent to the remote side and evaluated by the R interpreter.
The result is then
delivered back into a native Python object, a floating point number in this case. As an R expert you are
probably aware of the fact that R uses vectors for all numbers internally by default. But why did we receive
a single floating point number? The reason is that pyRserve looks at arrays coming from Rserve and converts
arrays with only one single item into an atomic value. This behaviour is for convenience reasons only.</p>
<p>There are two ways to override this behaviour so that the result is a real (numpy) array:</p>
<blockquote>
<div><ul>
<li><p>Apply <cite>atomicArray=True</cite> to the <cite>eval()</cite>-method:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;3 + 5&#39;</span><span class="p">,</span> <span class="n">atomicArray</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="go">array([ 8.])</span>
</pre></div>
</div>
<p>This behaviour is then valid for one single call.</p>
</li>
</ul>
</div></blockquote>
<ul>
<li><p>Apply <cite>atomicArray=True</cite> to the <cite>connect()</cite>-function to make it the default for all calls to <cite>eval()</cite>:</p>
<blockquote>
<div><p><code class="docutils literal notranslate"><span class="pre">conn</span> <span class="pre">=</span> <span class="pre">pyRserve.connect(atomicArray=True)</span></code></p>
<p>Then calling <cite>eval()</cite> would return a <cite>numpy</cite> array in every case:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;3 + 5&#39;</span><span class="p">)</span>
<span class="go">array([ 8.])</span>
</pre></div>
</div>
</div></blockquote>
</li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">conn.atomicArray</span></code> will tell you how the connection handles results. This attribute contains the value of the
<code class="docutils literal notranslate"><span class="pre">atomicArray</span></code> kw-argument given to connect. It can also be changed directly for a running connection.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">atomicArray</span>
<span class="go">True</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">atomicArray</span> <span class="o">=</span> <span class="kc">False</span>  <span class="c1"># change value</span>
</pre></div>
</div>
</div>
<div class="section" id="more-expression-evaluation">
<h2>More expression evaluation<a class="headerlink" href="#more-expression-evaluation" title="Permalink to this headline">¶</a></h2>
<p>Of course also more complex data types can be sent from R to Python, e.g. lists or real arrays. Here are some examples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s2">&quot;list(1, &#39;otto&#39;)&quot;</span><span class="p">)</span>
<span class="go">[1, &#39;otto&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;c(1, 5, 7)&#39;</span><span class="p">)</span>
<span class="go">array([ 1.,  2.])</span>
</pre></div>
</div>
<p>As demonstrated here R-lists are converted into plain Python lists whereas R-vectors are converted into numpy
arrays on the Python side.</p>
<p>To set a variable inside the R namespace do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;aVar &lt;- &quot;abc&quot;&#39;</span><span class="p">)</span>
<span class="go">&#39;abc&#39;</span>
</pre></div>
</div>
<p>and to request its value just do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;aVar&#39;</span><span class="p">)</span>
<span class="go">&#39;abc&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="expression-evaluation-without-expecting-a-result">
<h2>Expression evaluation without expecting a result<a class="headerlink" href="#expression-evaluation-without-expecting-a-result" title="Permalink to this headline">¶</a></h2>
<p>In the example above setting a variable in R did not only set the variable but also returned it back to Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;aVar &lt;- &quot;abc&quot;&#39;</span><span class="p">)</span>
<span class="go">&#39;abc&#39;</span>
</pre></div>
</div>
<p>This is usually not something one would expect or need, and especially in the case of very large data this can cause
unnecessary network traffic. The solution to this is to either call <cite>eval()</cite> with another option <cite>void=True</cite>, or to
use <cite>conn.voidEval()</cite> directly. The following two calls are identical and do not return the string <cite>‘abc’</cite>:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;aVar &lt;- &quot;abc&quot;&#39;</span><span class="p">,</span> <span class="n">void</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;aVar &lt;- &quot;abc&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="defining-functions-and-calling-them-through-expression-evaluation">
<h2>Defining functions and calling them through expression evaluation<a class="headerlink" href="#defining-functions-and-calling-them-through-expression-evaluation" title="Permalink to this headline">¶</a></h2>
<p>It is also possible to create functions inside the R interpreter through the connector’s namespace, or even to
execute entire scripts. Basically you can do everything which is possible inside a normal R console:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># create a function and execute it:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;doubleit &lt;- function(x) { x*2 }&#39;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;doubleit(2)&#39;</span><span class="p">)</span>
<span class="mf">4.0</span>

<span class="c1"># store a mini script definition in a Python string ...</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">my_r_script</span> <span class="o">=</span> <span class="s1">&#39;&#39;&#39;</span>
<span class="s1">squareit &lt;- function(x)</span>
<span class="s1">  { x**2 }</span>
<span class="s1">squareit(4)</span>
<span class="s1">&#39;&#39;&#39;</span>
<span class="c1"># .... and execute it in R:</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">my_r_script</span><span class="p">)</span>
<span class="mf">16.0</span>
</pre></div>
</div>
</div>
<div class="section" id="the-r-namespace-setting-and-accessing-variables-in-a-more-pythonic-way">
<h2>The R namespace - setting and accessing variables in a more Pythonic way<a class="headerlink" href="#the-r-namespace-setting-and-accessing-variables-in-a-more-pythonic-way" title="Permalink to this headline">¶</a></h2>
<p>Previous sections explained how to set a variable inside R by evaluation a statement in string format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;aVar &lt;- &quot;abc&quot;&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is not very elegant and has limited ways to provide values already stored in Python variables. A much nicer
way to do this is by setting the variable name in R as an attribute to a special variable <cite>conn.r</cite> which points
to the namespace in R directly. The following statement does the same thing as the one above, just “more Pythonic”:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">aVar</span> <span class="o">=</span> <span class="s2">&quot;abc&quot;</span>
</pre></div>
</div>
<p>So of course it is then possible to compute values or copy them from Python variables into R:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">aVar</span> <span class="o">=</span> <span class="n">some_python_number</span> <span class="o">*</span> <span class="mf">1000.505</span>
</pre></div>
</div>
<p>To retrieve a variable from R just use it as expected:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="s1">&#39;A value from R:&#39;</span><span class="p">,</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">aVar</span><span class="p">)</span>
</pre></div>
</div>
<p>In its current implementation pyRserve allows to set and access the following base types:</p>
<ul class="simple">
<li><p>None (NULL)</p></li>
<li><p>boolean</p></li>
<li><p>integers (32-bit only)</p></li>
<li><p>floating point numbers (64 bit only), i.e. doubles</p></li>
<li><p>complex numbers</p></li>
<li><p>strings</p></li>
</ul>
<p>Furthermore the following containers are supported:</p>
<ul class="simple">
<li><p>lists</p></li>
<li><p>numpy arrays</p></li>
<li><p>TaggedList</p></li>
<li><p>AttrArray</p></li>
<li><p>TaggedArray</p></li>
</ul>
<p>Lists can be nested arbitrarily, containing other lists, numbers, or arrays. <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code>, <code class="docutils literal notranslate"><span class="pre">AttrArray</span></code>, and
<code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code> are
special containers to handle very R-specific result types. They will be explained further down in the manual.</p>
<p>The following example shows how to assign a python list with mixed data types to an R variable called <code class="docutils literal notranslate"><span class="pre">aList</span></code>,
and then to retrieve it again:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">aList</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s1">&#39;abcde&#39;</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">aList</span>
<span class="go">[1, &#39;abcde&#39;, array([1, 2, 3])]</span>
</pre></div>
</div>
<p>Numpy arrays can also contain dimension information which are translated into R matrices when assigned to the R namespace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">12</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span><span class="o">.</span><span class="n">shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">aMatrix</span> <span class="o">=</span> <span class="n">arr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="s1">&#39;dim(aMatrix)&#39;</span><span class="p">)</span>  <span class="c1"># give me the dimension of aMatrix on the R-side</span>
<span class="go">array([3, 4])</span>
</pre></div>
</div>
<p>The result of the shape information is - in contrast to what one gets from numpy arrays - an array itself.
There is nothing special about this, this is just the way R internally deals with that information.</p>
</div>
<div class="section" id="expression-evaluation-through-the-r-namespace">
<h2>Expression evaluation through the R namespace<a class="headerlink" href="#expression-evaluation-through-the-r-namespace" title="Permalink to this headline">¶</a></h2>
<p>Instead of using <cite>conn.eval(‘1+1’)</cite> expressions can also be evaluate by making a function call on the R namespace
directly. The following calls are producing the same result:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><cite>conn.r(‘…’) also accepts the `void</cite>-option in case you want to suppress that a result is returned. Again the
following three calls are producing the same result:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">,</span> <span class="n">void</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">,</span> <span class="n">void</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;1+1&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="calling-functions-in-r">
<h2>Calling functions in R<a class="headerlink" href="#calling-functions-in-r" title="Permalink to this headline">¶</a></h2>
<p>Functions defined in R can be called as if they were a Python methods, declared in the namespace of R.</p>
<p>Before the examples below are usable we need to define a couple of very simple functions within the R namespace:
<code class="docutils literal notranslate"><span class="pre">func0()</span></code> accepts no parameters and returns a fixed string, <code class="docutils literal notranslate"><span class="pre">func1()</span></code> takes exactly one parameter and
<code class="docutils literal notranslate"><span class="pre">funcKKW()</span></code> takes keyword arguments with default values:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;func0 &lt;- function() { &quot;hello world&quot; }&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;func1 &lt;- function(v) { v*2 }&#39;</span><span class="p">)</span>
<span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;funcKW &lt;- function(a1=1.0, a2=4.0) { list(a1, a2) }&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>Now calling R functions is as trivial as calling plain Python functions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">func0</span><span class="p">()</span>
<span class="go">&quot;hello world&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">func1</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">10</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">funcKW</span><span class="p">(</span><span class="n">a2</span><span class="o">=</span><span class="mf">6.0</span><span class="p">)</span>
<span class="go">[1.0, 6.0]</span>
</pre></div>
</div>
<p>Of course you can also call functions built-in to R:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">length</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="go">3</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-help-with-functions">
<h2>Getting help with functions<a class="headerlink" href="#getting-help-with-functions" title="Permalink to this headline">¶</a></h2>
<p>If R is properly installed including its help messages those can be retrieved directly.
Also here no surprise - just do it the Python way through the <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> attribute:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">sapply</span><span class="o">.</span><span class="vm">__doc__</span><span class="p">)</span>
<span class="go">lapply                 package:base                 R Documentation</span>

<span class="go">Apply a Function over a List or Vector</span>

<span class="go">Description:</span>

<span class="go">&#39;lapply&#39; returns a list of the same length as &#39;X&#39;, each element of</span>
<span class="go">which is the result of applying &#39;FUN&#39; to the corresponding element</span>
<span class="go">of &#39;X&#39;.</span>
<span class="go">[...]</span>
</pre></div>
</div>
<p>Of course this only works for functions which provide documentation. For all others <code class="docutils literal notranslate"><span class="pre">__doc__</span></code> just returns <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p>
</div>
<div class="section" id="applying-an-r-function-as-argument-to-another-function">
<h2>Applying an R function as argument to another function<a class="headerlink" href="#applying-an-r-function-as-argument-to-another-function" title="Permalink to this headline">¶</a></h2>
<p>A typical application in R is to apply a vector to a function, especially via <code class="docutils literal notranslate"><span class="pre">sapply</span></code> and its brothers (or sisters,
depending how how one sees them).</p>
<p>Fortunately this is as easy as you would expect:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;double &lt;- function(x) { x*2 }&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">sapply</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
<span class="go">array([ 2.,  4.,  6.])</span>
</pre></div>
</div>
<p>Here a Python array and a function defined in R are provided as arguments to the R function <code class="docutils literal notranslate"><span class="pre">sapply</span></code>.</p>
<p>Of course the following attempt to provide a Python function as an argument into R makes no sense:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">double</span><span class="p">(</span><span class="n">v</span><span class="p">):</span> <span class="k">return</span> <span class="n">v</span><span class="o">*</span><span class="mi">2</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">sapply</span><span class="p">(</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="n">double</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">NameError</span>: <span class="n">name &#39;double&#39; is not defined</span>
</pre></div>
</div>
<p>This will result in a NameError error because the connector tries to reference the function ‘double’ inside the
R namespace. It should be obvious that it is not possible to transfer function implementations from Python to R.</p>
</div>
<div class="section" id="applying-a-variable-already-defined-in-r-to-a-function">
<h2>Applying a variable already defined in R to a function<a class="headerlink" href="#applying-a-variable-already-defined-in-r-to-a-function" title="Permalink to this headline">¶</a></h2>
<p>To understand why this is an interesting feature one has to understand how Python and pyRserve works. The following
code is pretty inefficient:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">sapply</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">arr</span><span class="p">,</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
</pre></div>
</div>
<p>To see why it is inefficient it is reproduced here more explicitly, but doing exactly the same thing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">arr</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">sapply</span><span class="p">(</span><span class="n">arr</span><span class="p">,</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
</pre></div>
</div>
<p>Now it is clear that the value of <code class="docutils literal notranslate"><span class="pre">conn.r.arr</span></code> is first set inside R, then retrieved back to Python
(in the second line) and then again sent back to the <code class="docutils literal notranslate"><span class="pre">sapply</span></code> function. This is pretty inefficient,
it would be much better just to set the array in R and then to refer to <code class="docutils literal notranslate"><span class="pre">conn.r.arr</span></code> instead of sending
it back and forth. Here the “reference” namespace called <code class="docutils literal notranslate"><span class="pre">ref</span></code> comes into play:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">arr</span>
<span class="go">&lt;RVarProxy to variable &quot;arr&quot;&gt;</span>
</pre></div>
</div>
<p>Through <code class="docutils literal notranslate"><span class="pre">conn.ref</span></code> it is possible to only reference a variable (or a function) in the R namespace without actually
bringing it over to Python. Such a reference can then be passed as an argument to every function called
from <code class="docutils literal notranslate"><span class="pre">conn.r</span></code>. So the proper way to make the call above is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">arr</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">sapply</span><span class="p">(</span><span class="n">conn</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">arr</span><span class="p">,</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">double</span><span class="p">)</span>
</pre></div>
</div>
<p>However it is still possible to retrieve the actual content of a variable proxy through its <code class="docutils literal notranslate"><span class="pre">value()</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">ref</span><span class="o">.</span><span class="n">arr</span><span class="o">.</span><span class="n">value</span><span class="p">()</span>
<span class="go">array([1., 2., 3.])</span>
</pre></div>
</div>
<p>So using <code class="docutils literal notranslate"><span class="pre">conn.ref</span></code> instead of <code class="docutils literal notranslate"><span class="pre">conn.r</span></code> primarily returns a reference to the remote variable in the R namespace,
instead of its value. Actually we have done that before with the function <code class="docutils literal notranslate"><span class="pre">conn.r.double</span></code>. This doesn’t return
the R function to Python - something which would be pretty useless. Instead only a proxy to the R function is returned:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">double</span>
<span class="go">&lt;RFuncProxy to function &quot;double&quot;&gt;</span>
</pre></div>
</div>
<p>Actually functions are always returned as proxy references, both in the <code class="docutils literal notranslate"><span class="pre">conn.r</span></code> and the <code class="docutils literal notranslate"><span class="pre">conn.ref</span></code> namespace,
so <code class="docutils literal notranslate"><span class="pre">conn.r.&lt;function&gt;</span></code> is the same as <code class="docutils literal notranslate"><span class="pre">conn.ref.&lt;function&gt;</span></code>.</p>
<p>Using reference to R variables is indeed absolutely necessary for variable content which is not transferable into
Python, like special types of R classes, complex data frames etc.</p>
</div>
<div class="section" id="handling-complex-result-objects-from-r-functions">
<h2>Handling complex result objects from R functions<a class="headerlink" href="#handling-complex-result-objects-from-r-functions" title="Permalink to this headline">¶</a></h2>
<p>Some functions in R (especially those doing statistical calculations) return quite complex result objects.</p>
<p>The T-test is such an example. In the R shell you would see something like this (please ignore the silly values
applied to the t test):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&gt;</span> <span class="n">t</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>

     <span class="n">Welch</span> <span class="n">Two</span> <span class="n">Sample</span> <span class="n">t</span><span class="o">-</span><span class="n">test</span>

<span class="n">data</span><span class="p">:</span>  <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span> <span class="ow">and</span> <span class="n">c</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">t</span> <span class="o">=</span> <span class="o">-</span><span class="mf">2.3054</span><span class="p">,</span> <span class="n">df</span> <span class="o">=</span> <span class="mf">3.564</span><span class="p">,</span> <span class="n">p</span><span class="o">-</span><span class="n">value</span> <span class="o">=</span> <span class="mf">0.09053</span>
<span class="n">alternative</span> <span class="n">hypothesis</span><span class="p">:</span> <span class="n">true</span> <span class="n">difference</span> <span class="ow">in</span> <span class="n">means</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">equal</span> <span class="n">to</span> <span class="mi">0</span>
<span class="mi">95</span> <span class="n">percent</span> <span class="n">confidence</span> <span class="n">interval</span><span class="p">:</span>
 <span class="o">-</span><span class="mf">8.4926941</span>  <span class="mf">0.9926941</span>
<span class="n">sample</span> <span class="n">estimates</span><span class="p">:</span>
<span class="n">mean</span> <span class="n">of</span> <span class="n">x</span> <span class="n">mean</span> <span class="n">of</span> <span class="n">y</span>
     <span class="mf">1.75</span>      <span class="mf">5.50</span>
</pre></div>
</div>
<p>This is what you would get to see directly in your R shell.</p>
<p>Now, how would this convoluted result be transferred into Python objects? For this to be possible
pyRserve has defined three special classes that allow for a mapping from R to Python objects. These classes
are explained the the following sections. Afterwards - with that knowledge - we have a final look at the result
of the t-test again.</p>
<div class="section" id="taggedlists">
<h3>TaggedLists<a class="headerlink" href="#taggedlists" title="Permalink to this headline">¶</a></h3>
<p>The first special type of container is called “TaggedList”. It reflects a list-type object in R where
items can be accessed in two ways as shown here (this is now pure R code):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&gt; t &lt;- list(husband=&quot;otto&quot;, wife=&quot;erna&quot;, &quot;5th avenue&quot;)
&gt; t[1]
$husband
[1] &quot;otto&quot;

&gt; t[&#39;husband&#39;]
$husband
[1] &quot;otto&quot;
</pre></div>
</div>
<p>So items in the list can be either accessed via their index position, or through their “tag”. Please note that the
third list item (“5th avenue”) is not tagged, so it can only be accessed via its index number, i.e. <code class="docutils literal notranslate"><span class="pre">t[3]</span></code>
(indexing in R starts at 1 and not at zero as in Python!).</p>
<p>There is no direct match to any standard Python construct for a <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code>. Python dictionaries do not preserve
their elements’ order and also don’t allow for missing keys (which is why an OrderDict also doesn’t help).
NamedTuples on the other side would do the job but don’t allow items to be appended or deleted since they are
immutable.</p>
<p>The solution was to provide a special class in Python which is called <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code>. When accessing the
list <code class="docutils literal notranslate"><span class="pre">t</span></code> from the example above you’ll obtain an instance of a TaggedList in Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;list(husband=&quot;otto&quot;, wife=&quot;erna&quot;, &quot;5th avenue&quot;)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span>
<span class="go">TaggedList(husband=&#39;otto&#39;, wife=&#39;erna&#39;, &#39;5th avenue&#39;)</span>
</pre></div>
</div>
<p>This <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code> instance can be accessed in the same way as its R pendant, except for the fact the indexing is
starting at zero in the usual Pythonic way:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="go">&#39;otto&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="s1">&#39;husband&#39;</span><span class="p">]</span>
<span class="go">&#39;otto&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="go">&#39;5th avenue&#39;</span>
</pre></div>
</div>
<p>To retrieve its data suitable for instantiating another <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code> on the Python side get its data as a list of
tuples. This also demonstrates how a <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code> can be created directly in Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyRserve</span> <span class="kn">import</span> <span class="n">TaggedList</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">t</span><span class="o">.</span><span class="n">astuples</span>
<span class="go">[(&#39;husband&#39;, &#39;otto&#39;), (&#39;wife&#39;, &#39;erna&#39;), (None, &#39;5th avenue&#39;)]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">new_tagged_list</span> <span class="o">=</span> <span class="n">TaggedList</span><span class="p">(</span><span class="n">t</span><span class="o">.</span><span class="n">astuples</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">TaggedList</span></code> does not provide the full list API that one would expect, some methods are just to entirely
implemented yet. However it is useful enough to retrieve all information obtained out of a R result object.</p>
</div>
</div>
<div class="section" id="attrarrays">
<h3>AttrArrays<a class="headerlink" href="#attrarrays" title="Permalink to this headline">¶</a></h3>
<p>An <code class="docutils literal notranslate"><span class="pre">AttrArray</span></code> is simply an normal numpy array, with an additional dictionary attribute called <code class="docutils literal notranslate"><span class="pre">attr</span></code>.
This dicionary is used to store meta data associated to an array retrieved from R.</p>
<p>Let’s create such an <code class="docutils literal notranslate"><span class="pre">AttrArray</span></code> in R, and transfer it into to the Python side:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s2">&quot;t &lt;- c(-8.49, 0.99)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s2">&quot;attributes(t) &lt;- list(conf.level=0.95)&quot;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">t</span>
<span class="go">AttrArray([-8.49, 0.99], attr={&#39;conf.level&#39;: array([ 0.95])})</span>
</pre></div>
</div>
<p>To create such an array from Python in R is also possible via:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyRserve</span> <span class="kn">import</span> <span class="n">AttrArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">AttrArray</span><span class="o">.</span><span class="n">new</span><span class="p">([</span><span class="o">-</span><span class="mf">8.49</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">],</span> <span class="p">{</span><span class="s1">&#39;conf.level&#39;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mf">0.95</span><span class="p">])})</span>
</pre></div>
</div>
<p>Instead of a list argument the <code class="docutils literal notranslate"><span class="pre">new</span></code> function also accepts a numpy array as well:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">t</span> <span class="o">=</span> <span class="n">AttrArray</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">8.49</span><span class="p">,</span> <span class="mf">0.99</span><span class="p">]),</span> <span class="p">{</span><span class="s1">&#39;conf.level&#39;</span><span class="p">:</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span> <span class="mf">0.95</span><span class="p">])})</span>
</pre></div>
</div>
</div>
<div class="section" id="taggedarrays">
<h3>TaggedArrays<a class="headerlink" href="#taggedarrays" title="Permalink to this headline">¶</a></h3>
<p>The third special data type provided by pyRserve is the so called <code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code>. It provides basically the same
features as <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code> above, however the underlying data type is a numpy-Array instead of a Python list.
In fact, a TaggedArray is a direct subclass of <code class="docutils literal notranslate"><span class="pre">numpy.ndarray</span></code>, enhanced with some new features
like accessing array cells by name as in <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code>.</p>
<p>For the moment <code class="docutils literal notranslate"><span class="pre">TaggedArrays</span></code> only make real sense if they are 1-dimensional, so please do not change
its shape. The results would not really be predictable.</p>
<p>To create a <code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code> on the R side and transfer it to Python type:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;c(a=1.,b=2.,3.)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span>
<span class="go">TaggedArray([ 1.,  2.,  3.], key=[&#39;a&#39;, &#39;b&#39;, &#39;&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="go">2.0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;b&#39;</span><span class="p">]</span>
<span class="go">2.0</span>
</pre></div>
</div>
<p>The third element in the array did not obtain a name on the R side, so it is represented by an empty string in
the <code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code> object.</p>
<p>Although <code class="docutils literal notranslate"><span class="pre">TaggedArray``s</span> <span class="pre">are</span> <span class="pre">normal</span> <span class="pre">numpy</span> <span class="pre">arrays</span> <span class="pre">they</span> <span class="pre">loose</span> <span class="pre">their</span> <span class="pre">tags</span> <span class="pre">when</span> <span class="pre">further</span> <span class="pre">processed</span> <span class="pre">in</span> <span class="pre">Python,</span> <span class="pre">but</span> <span class="pre">still</span>
<span class="pre">present</span> <span class="pre">themselves</span> <span class="pre">(via</span> <span class="pre">``__repr__</span></code>) as <code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code>. This is a current flaw in their implementation.</p>
<p>To create a <code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code> directly in Python there is a constructor function <code class="docutils literal notranslate"><span class="pre">new()</span></code> which takes a normal
1-d numpy array as the first argument and a list of tags as the second. Both arguments must match in their size:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pyRserve</span> <span class="kn">import</span> <span class="n">TaggedArray</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span> <span class="o">=</span> <span class="n">TaggedArray</span><span class="o">.</span><span class="n">new</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]),</span> <span class="p">[</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">arr</span>
<span class="go">TaggedArray([1, 2, 3], key=[&#39;a&#39;, &#39;b&#39;, &#39;&#39;])</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="back-to-the-t-test-example">
<h2>Back to the t-test example<a class="headerlink" href="#back-to-the-t-test-example" title="Permalink to this headline">¶</a></h2>
<p>After <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code> and <code class="docutils literal notranslate"><span class="pre">TaggedArray</span></code> have been introduced we can now go back to the t-test mentioned
before. Let’s make the same call to the test function, this time just from the Python side, and then
look at the result. Again there are two ways to call it, one via string evaluation by the R interpreter,
one by directly providing native Python parameters.
So:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;t.test(c(1,2,3,1),c(1,6,7,8))&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>and:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">test</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,</span><span class="mi">1</span><span class="p">]),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span><span class="mi">6</span><span class="p">,</span><span class="mi">7</span><span class="p">,</span><span class="mi">8</span><span class="p">]))</span>
</pre></div>
</div>
<p>does actually the same thing.</p>
<dl>
<dt>Looking at the result we get::</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span>
<span class="go">&lt;TaggedList(statistic=TaggedArray([-2.30541984]),</span>
<span class="go"> parameter=TaggedArray([ 3.56389482], tags=[&#39;df&#39;]),</span>
<span class="go"> p.value=0.090532640733331213,</span>
<span class="go"> conf.int=TaggedArray([-8.49269413,  0.99269413], attr={&#39;conf.level&#39;: array([ 0.95])}),</span>
<span class="go"> estimate=TaggedArray([ 1.75,  5.5 ], tags=[&#39;mean of x&#39;, &#39;mean of y&#39;]),</span>
<span class="go"> null.value=TaggedArray([ 0.], tags=[&#39;difference in means&#39;]),</span>
<span class="go"> alternative=&#39;two.sided&#39;,</span>
<span class="go"> method=&#39;Welch Two Sample t-test&#39;,</span>
<span class="go"> data.name=&#39;c(1, 2, 3, 1) and c(1, 6, 7, 8)&#39;)&gt;</span>
</pre></div>
</div>
</dd>
</dl>
<p>The result is an instance of a <code class="docutils literal notranslate"><span class="pre">TaggedList</span></code>, containing different types of list items.</p>
<p>So to access e.g. the confidence interval one would type in Python:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;conf.int&#39;</span><span class="p">]</span>
<span class="go">AttrArray([-8.49269413,  0.99269413], attr={&#39;conf.level&#39;: array([ 0.95])})</span>
</pre></div>
</div>
<p>This returns an AttrArray where the confidence level is stored in an attribute called <code class="docutils literal notranslate"><span class="pre">conf.level</span></code>
in the <code class="docutils literal notranslate"><span class="pre">attr</span></code>-dictionary:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;conf.int&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">attr</span><span class="p">[</span><span class="s1">&#39;conf.level&#39;</span><span class="p">]</span>
<span class="go">array([ 0.95])</span>
</pre></div>
</div>
<p>In the <code class="docutils literal notranslate"><span class="pre">res</span></code>-result data structure above there are also objects of a container called TaggedArray:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;estimate&#39;</span><span class="p">]</span>
<span class="go">TaggedArray([ 1.75,  5.5 ], tags=[&#39;mean of x&#39;, &#39;mean of y&#39;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;estimate&#39;</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
<span class="go">5.5</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span><span class="p">[</span><span class="s1">&#39;estimate&#39;</span><span class="p">][</span><span class="s1">&#39;mean of y&#39;</span><span class="p">]</span>
<span class="go">5.5</span>
</pre></div>
</div>
</div>
<div class="section" id="out-of-bounds-messages-oob">
<h2>Out Of Bounds messages (OOB)<a class="headerlink" href="#out-of-bounds-messages-oob" title="Permalink to this headline">¶</a></h2>
<p>Starting with version 1.7, Rserve allows OOB messages to be sent from R to Rserve clients, i.e. it
allows for nested communication during an <code class="docutils literal notranslate"><span class="pre">eval</span></code> call.</p>
<p>This capability requires to start Rserve with a configuration enabling it, and loading Rserve itself as a
library into the server. Both is easily accomplished in a config file (e.g. <code class="docutils literal notranslate"><span class="pre">oob.config</span></code>) like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oob</span> <span class="n">enable</span>
<span class="nb">eval</span> <span class="n">library</span><span class="p">(</span><span class="n">Rserve</span><span class="p">)</span>
</pre></div>
</div>
<p>Then start Rserve using this config file:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">R</span> <span class="n">CMD</span> <span class="n">Rserve</span> <span class="o">--</span><span class="n">RS</span><span class="o">-</span><span class="n">conf</span> <span class="n">oob</span><span class="o">.</span><span class="n">conf</span>
</pre></div>
</div>
<p>OOB messaging works by calling <code class="docutils literal notranslate"><span class="pre">self.oobSend</span></code> or <code class="docutils literal notranslate"><span class="pre">self.oobMessage</span></code> in R, e.g.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;self.oobSend(1)&#39;</span><span class="p">)</span>
<span class="go">True</span>
</pre></div>
</div>
<p>This does nothing but to indicate that it works. For real usefulness, one needs to register a callback
that gets called with the sent data and user code as parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">printoobmsg</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">oobCallback</span> <span class="o">=</span> <span class="n">printoobmsg</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;self.oobSend(&quot;foo&quot;)&#39;</span><span class="p">)</span>  <span class="c1"># user code is 0 per default</span>
<span class="go">&lt;&lt;&lt; foo 0</span>
<span class="go">True</span>
</pre></div>
</div>
<p>The other function, <code class="docutils literal notranslate"><span class="pre">self.oobMessage</span></code> executes the callback and gives its return value to R:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">oobCallback</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">,</span> <span class="n">code</span><span class="p">:</span> <span class="n">data</span><span class="o">**</span><span class="n">code</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">voidEval</span><span class="p">(</span><span class="s1">&#39;dc &lt;- self.oobMessage(2, 3)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">dc</span>
<span class="go">8</span>
</pre></div>
</div>
<p>The user code might be useful to create a callback convention used for switching callbacks based
on agreed-upon codes:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">C_PRINT</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">C_PRINT</span> <span class="o">=</span> <span class="mi">0</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C_ECHO</span>  <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">C_ECHO</span>  <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">C_STORE</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">C_STORE</span> <span class="o">=</span> <span class="mi">2</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store</span> <span class="o">=</span> <span class="p">[]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">functions</span> <span class="o">=</span> <span class="p">{</span>
<span class="gp">... </span>    <span class="n">C_PRINT</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;&lt;&lt;&lt;&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">C_ECHO</span><span class="p">:</span>  <span class="k">lambda</span> <span class="n">data</span><span class="p">:</span> <span class="n">data</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">C_STORE</span><span class="p">:</span> <span class="n">store</span><span class="o">.</span><span class="n">append</span><span class="p">,</span>
<span class="gp">... </span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">dispatch</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">functions</span><span class="p">[</span><span class="n">code</span><span class="p">](</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">oobCallback</span> <span class="o">=</span> <span class="n">dispatch</span>
<span class="go">&gt;&gt;&gt;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;self.oobMessage(&quot;foo&quot;, C_PRINT)&#39;</span><span class="p">)</span>
<span class="go">&lt;&lt;&lt; foo</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;self.oobMessage(&quot;foo&quot;, C_ECHO)&#39;</span><span class="p">)</span>
<span class="go">&#39;foo&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;self.oobMessage(&quot;foo&quot;, C_STORE)&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">store</span>
<span class="go">[&#39;foo&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="s1">&#39;self.oobMessage(&#39;</span><span class="n">foo</span><span class="s1">&#39;, 3)&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">&lt;module&gt;</span>
<span class="gr">KeyError</span>: <span class="n">3</span>
</pre></div>
</div>
<div class="section" id="an-example-showing-how-nesting-of-oob-messages-works">
<h3>An example showing how nesting of OOB messages works<a class="headerlink" href="#an-example-showing-how-nesting-of-oob-messages-works" title="Permalink to this headline">¶</a></h3>
<p>The previous examples were showing the bare application of OOB messages,
but the real power of it comes when one understands how messages are
getting nested within a <code class="docutils literal notranslate"><span class="pre">eval</span></code> call.</p>
<p>For that first create an R function which returns progress information
during a “complicated” calculation:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">r_func</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="gp">... </span><span class="s2">big_job &lt;- function(x)</span>
<span class="gp">... </span><span class="s2">{</span>
<span class="gp">... </span><span class="s2">    a &lt;- x*2</span>
<span class="gp">... </span><span class="s2">    self.oobSend(&#39;25</span><span class="si">% d</span><span class="s2">one&#39;)</span>
<span class="gp">... </span><span class="s2">    b &lt;- a * a</span>
<span class="gp">... </span><span class="s2">    self.oobSend(&#39;50</span><span class="si">% d</span><span class="s2">one&#39;)</span>
<span class="gp">... </span><span class="s2">    c &lt;- a + b</span>
<span class="gp">... </span><span class="s2">    self.oobSend(&#39;75</span><span class="si">% d</span><span class="s2">one&#39;)</span>
<span class="gp">... </span><span class="s2">    d &lt;- c**2</span>
<span class="gp">... </span><span class="s2">    self.oobSend(&#39;100</span><span class="si">% d</span><span class="s2">one&#39;)</span>
<span class="gp">... </span><span class="s2">    -1 * d</span>
<span class="gp">... </span><span class="s2">}&quot;&quot;&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">eval</span><span class="p">(</span><span class="n">r_func</span><span class="p">)</span>
</pre></div>
</div>
<p>Then create a progress report function, register it as a callback and
then call the actual R function:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">progress</span><span class="p">(</span><span class="n">msg</span><span class="p">,</span> <span class="n">code</span><span class="p">):</span> <span class="nb">print</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">conn</span><span class="o">.</span><span class="n">oobCallback</span> <span class="o">=</span> <span class="n">progress</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="n">r</span><span class="o">.</span><span class="n">big_job</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="go">25% done</span>
<span class="go">50% done</span>
<span class="go">75% done</span>
<span class="go">100% done</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">res</span>
<span class="go">-12100.0</span>
</pre></div>
</div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">pyRserve manual</a><ul>
<li><a class="reference internal" href="#setting-up-a-connection-to-rserve">Setting up a connection to Rserve</a><ul>
<li><a class="reference internal" href="#shutting-down-rserve-remotely">Shutting down Rserve remotely</a></li>
</ul>
</li>
<li><a class="reference internal" href="#string-evaluation-in-r">String evaluation in R</a></li>
<li><a class="reference internal" href="#more-expression-evaluation">More expression evaluation</a></li>
<li><a class="reference internal" href="#expression-evaluation-without-expecting-a-result">Expression evaluation without expecting a result</a></li>
<li><a class="reference internal" href="#defining-functions-and-calling-them-through-expression-evaluation">Defining functions and calling them through expression evaluation</a></li>
<li><a class="reference internal" href="#the-r-namespace-setting-and-accessing-variables-in-a-more-pythonic-way">The R namespace - setting and accessing variables in a more Pythonic way</a></li>
<li><a class="reference internal" href="#expression-evaluation-through-the-r-namespace">Expression evaluation through the R namespace</a></li>
<li><a class="reference internal" href="#calling-functions-in-r">Calling functions in R</a></li>
<li><a class="reference internal" href="#getting-help-with-functions">Getting help with functions</a></li>
<li><a class="reference internal" href="#applying-an-r-function-as-argument-to-another-function">Applying an R function as argument to another function</a></li>
<li><a class="reference internal" href="#applying-a-variable-already-defined-in-r-to-a-function">Applying a variable already defined in R to a function</a></li>
<li><a class="reference internal" href="#handling-complex-result-objects-from-r-functions">Handling complex result objects from R functions</a><ul>
<li><a class="reference internal" href="#taggedlists">TaggedLists</a></li>
<li><a class="reference internal" href="#attrarrays">AttrArrays</a></li>
<li><a class="reference internal" href="#taggedarrays">TaggedArrays</a></li>
</ul>
</li>
<li><a class="reference internal" href="#back-to-the-t-test-example">Back to the t-test example</a></li>
<li><a class="reference internal" href="#out-of-bounds-messages-oob">Out Of Bounds messages (OOB)</a><ul>
<li><a class="reference internal" href="#an-example-showing-how-nesting-of-oob-messages-works">An example showing how nesting of OOB messages works</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="installation.html"
                        title="previous chapter">Installation</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="license.html"
                        title="next chapter">This is the MIT license</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/manual.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="license.html" title="This is the MIT license"
             >next</a> |</li>
        <li class="right" >
          <a href="installation.html" title="Installation"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">pyRserve 0.9.2 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2009-2020 Ralph Heinkel.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.3.0.
    </div>
  </body>
</html>